
<nav th:fragment="navbar" class="navbar navbar-expand-lg bg-light px-4 py-2 shadow-sm">
    <div class="d-flex align-items-center">
        <span class="fw-bold fs-5" id="greetingText">Good Day</span>
    </div>

    <!-- Search Bar -->
    <form class="d-flex mx-auto" role="search">
        <input class="form-control me-2" type="search" placeholder="Search patients or doctors" aria-label="Search" />
        <button class="btn btn-outline-primary" type="submit"><i class="bi bi-search"></i></button>
    </form>

    <div class="ms-auto d-flex align-items-center gap-3">

        <!-- Messages -->
        <div class="dropdown">
            <a class="text-decoration-none position-relative" href="#" id="messagesDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-chat-dots fs-5"></i>
                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">2</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="messagesDropdown">
                <li><h6 class="dropdown-header">Messages</h6></li>
                <li><a class="dropdown-item" href="#">New message from Admin</a></li>
                <li><a class="dropdown-item" href="#">Lab report inquiry</a></li>
                <li><a class="dropdown-item text-primary" href="/doctors/messages">View all messages</a></li>
            </ul>
        </div>

        <!-- Appointments -->
        <div class="dropdown">
            <a class="text-decoration-none position-relative" href="#" id="appointmentsDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-calendar2-check fs-5"></i>
                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">3</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="appointmentsDropdown">
                <li><h6 class="dropdown-header">Today's Appointments</h6></li>
                <li><a class="dropdown-item" href="#">10:00 AM – John Doe</a></li>
                <li><a class="dropdown-item" href="#">11:30 AM – Priya Sharma</a></li>
                <li><a class="dropdown-item" href="#">1:00 PM – Ravi Patel</a></li>
                <li><a class="dropdown-item text-primary" href="/doctors/appointments">View all appointments</a></li>
            </ul>
        </div>

        <!-- Doctor Name -->
        <span class="fw-semibold">Dr. <span th:text="${name}">[Doctor Name]</span></span>

        <!-- Profile -->
        <div class="dropdown">
            <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" id="profileDropdown"
               data-bs-toggle="dropdown" aria-expanded="false">
                <img th:src="@{/images/avatar.png}" alt="Profile" width="32" height="32" class="rounded-circle" />
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="profileDropdown">
                <li><a class="dropdown-item" th:href="@{/doctors/profile}"><i class="bi bi-person me-2"></i>View Profile</a></li>
                <li><a class="dropdown-item" th:href="@{/doctors/edit}"><i class="bi bi-pencil-square me-2"></i>Edit Profile</a></li>
                <li><a class="dropdown-item" th:href="@{/doctors/change-password}"><i class="bi bi-key me-2"></i>Change Password</a></li>
                <li><hr class="dropdown-divider" /></li>
                <li><a class="dropdown-item text-danger" th:href="@{/logout}"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
            </ul>
        </div>
    </div>
</nav>

<script th:inline="javascript">
    const greetingText = document.getElementById("greetingText");
    const hour = new Date().getHours();
    let greeting = "Hello";

    if (hour < 12) greeting = "Good morning";
    else if (hour < 18) greeting = "Good afternoon";
    else greeting = "Good evening";

    greetingText.textContent = greeting;
</script>
